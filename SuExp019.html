<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Survey123 Date Status Simulator</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #eef4f8;
  padding: 20px;
}

.box {
  background: white;
  padding: 20px;
  width: 360px;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}

label {
  font-weight: bold;
  display: block;
  margin-bottom: 8px;
}

input {
  width: 100%;
  padding: 6px;
}

.result {
  margin-top: 20px;
  padding: 12px;
  background: #f4f4f4;
  border-radius: 4px;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="box">

<label>Select a date:</label>
<input type="date" id="myDate">

<div class="result">
Status: <span id="output">TBD</span>
</div>

</div>

<script>
function evaluateDate() {
  const dateInput = document.getElementById("myDate").value;
  const output = document.getElementById("output");

  // Equivalent to: string-length(${myDate}) = 0
  if (dateInput.length === 0) {
    output.textContent = "TBD";
    return;
  }

  const selectedDate = new Date(dateInput);
  const today = new Date();
  today.setHours(0,0,0,0); // match Survey123 date-only behavior

  // Equivalent to: ${myDate} < today()
  if (selectedDate < today) {
    output.textContent = "Past";
  } else {
    output.textContent = "Future";
  }
}

document.getElementById("myDate").addEventListener("change", evaluateDate);

// Initialize on load
evaluateDate();
</script>

</body>
</html>
